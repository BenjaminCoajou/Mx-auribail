{% extends 'base.html.twig' %}

{% block title %}Admin{% endblock %}

{% block body %}

  <div class="container-lg">    
    <div class="row mt-3 mx-3">
      <h2>Utilisateur</h2>
      <table class="table table-striped">
        <thead class="thead-dark">
          <tr>
            <th scope="col">#</th>
            <th scope="col">Prenom</th>
            <th scope="col">Nom</th>
            <th scope="col">Email</th>
            <th scope="col">Anniversaire</th>
            <th scope="col">Licence</th>
            <th scope="col">Telephone</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for user in users %}
            <tr>
              <th scope="row">{{user.id}}</th>
              <td>{{user.firstName}}</td>
              <td>{{user.lastName}}</td>
              <td>{{user.email}}</td>
              <td>{{user.birthday | date("d/m/Y")}}</td>
              <td>{{user.licence}}</td>
              <td>{{user.phone}}</td>
              <td>
                <a href="{{ path('admin_user_edit', {'user': user.id}) }}" class="btn btn-primary">
                  <i class="fas fa-edit"></i>
                </a>
                <a href="{{ path('admin_user_delete', {'user': user.id}) }}" class="btn btn-danger">
                  <i class="fas fa-trash"></i>
                </a>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>

      <div>
        <h2>Entrainement</h2>
        <a href="{{ path('admin_training_create') }}" class="btn btn-primary my-3">Ajouter un Entrainement</a>
      </div>
      <table class="table table-striped">
        <thead class="thead-dark">
          <tr>
            <th scope="col">#</th>
            <th scope="col">Date entrenement</th>
            <th scope="col">Places</th>
            <th scope="col">Infos</th>
            <th scope="col">Date ouverture</th>
            <th scope="col">Cat√©gorie</th>
            <th scope="col">Actions</th>

          </tr>
        </thead>
        <tbody>
          {% for training in trainings %}

            <tr>
              <th scope="row">{{training.id}}</th>
              <td>{{training.trainingDate | date("d/m/Y h:i")}}</td>
              <td>{{training.slot}}</td>
              <td>{{training.info | u.truncate(30, '...')}}</td>
              <td>{{training.openingRegistrationDate | date("d/m/Y h:i")}}</td>
              {% if training.adult == 1 %}
                <td>adulte</td>
              {% else %}
                <td>enfant</td>
              {% endif %}
              <td>
                <a href="{{ path('admin_training_edit', {'training': training.id}) }}" class="btn btn-primary">
                  <i class="fas fa-edit"></i>
                </a>
                <a href="{{ path('admin_training_delete', {'training': training.id}) }}" class="btn btn-danger">
                  <i class="fas fa-trash"></i>
                </a>
                <a href="{{ path('admin_training_users_list', {'training': training.id}) }}" class="btn btn-warning">
                  <i class="fas fa-list"></i>
                </a>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

{% endblock %}
